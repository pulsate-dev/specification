# æ¤œç´¢API

## ã‚¯ã‚¨ãƒª

ãƒ™ãƒ¼ã‚¹ã¯ [Twitter v2](https://zenn.dev/mamushi/articles/twitter_search_query)
ã®ã‚¯ã‚¨ãƒª.

### ã‚ªãƒšãƒ¬ãƒ¼ã‚¿

| Operator    | æ„å‘³                     | ä¾‹                                                | å˜ç‹¬ä½¿ç”¨å¯èƒ½ |
| ----------- | ------------------------ | ------------------------------------------------- | ------------ |
| `keyword`   | ç‰¹å®šã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€   | `æ¾æ±Ÿ AND ã©ã“`                                   | yes          |
| `""`        | æ–‡å­—åˆ—ã®å®Œå…¨ä¸€è‡´         | `"é€ å¹£å±€ æ¡œ"`                                     | yes          |
| `from:`     | ç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã‚‹ãƒãƒ¼ãƒˆ | `from:@john@example.com or from:@doe@example.com` | yes          |
| `is:renote` | ãƒªãƒãƒ¼ãƒˆ                 | `hello world -is:renote`                          | no           |
| `is:quote`  | å¼•ç”¨ãƒªãƒãƒ¼ãƒˆ             | `#ç­‘å¾Œå·èŠ±ç«å¤§ä¼š is:quote`                        | no           |
| `has:link`  | æœ¬æ–‡ã«ãƒªãƒ³ã‚¯ã‚’å«ã‚€ãƒãƒ¼ãƒˆ | `nowplaying has:link`                             | no           |
| `has:media` | æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€ãƒãƒ¼ãƒˆ | `#å¾³å·å®¶åº· has:media`                             | no           |

### æ¼”ç®—å­

| æ¼”ç®—å­ | èª¬æ˜                                                                                       |
| ------ | ------------------------------------------------------------------------------------------ |
| `AND`  | ã‚¹ãƒšãƒ¼ã‚¹ã‚’æŒŸã‚“ã§é€£ç¶šã™ã‚‹æ¼”ç®—å­ã¯AND è«–ç†æ¼”ç®—ã¨ãªã‚Šã€ä¸¡æ–¹ã®æ¡ä»¶ã‚’æº€ãŸã—ãŸãƒãƒ¼ãƒˆãŒè¿”ã•ã‚Œã¾ã™ |
| `OR`   | OR ã‚’æŒŸã‚“ã§é€£ç¶šã™ã‚‹æ¼”ç®—å­ã¯ORè«–ç†æ¼”ç®—ã¨ãªã‚Šã€ã©ã¡ã‚‰ã‹ã®æ¡ä»¶ã‚’æº€ãŸã—ãŸãƒãƒ¼ãƒˆãŒè¿”ã•ã‚Œã¾ã™.   |
| `-`    | ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®å‰ã«ãƒã‚¤ãƒ•ãƒ³ã‚’ã¤ã‘ã‚‹ã¨ã€ãã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’è«–ç†å¦å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™.            |
| `()`   | ã‚«ãƒƒã‚³ã§ããã‚‹ã¨æ¼”ç®—å­ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã§ãã¾ã™. AND>ORã®é †ã§é©ç”¨ã•ã‚Œã¾ã™.                      |

## `GET /search/notes`

æŠ•ç¨¿ã‚’æ¤œç´¢ã—ã¾ã™. è¿”ã™æœ€å¤§ä»¶æ•°ã¯100ä»¶ã§ã™

### å…¥åŠ›

- ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
  - `query`: `string`
    - æ¤œç´¢ã‚¯ã‚¨ãƒª
    - ä¸Šè¨˜ã®å†…å®¹ã‚’å—ã‘å–ã‚Šã¾ã™

### å‡ºåŠ›

**`200 OK`**

æ¤œç´¢ã«æˆåŠŸ

å‡ºåŠ›ã®å†…å®¹ã¯ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã¨åŒä¸€ã§ã‚ã‚‹.

```json
[
  {
    "id": "3893974892",
    "content": "hello world!",
    "cw_comment": "",
    "visibility": "public",
    "created_at": "2023-09-27T14:17:29.169Z",
    "attachment_files": [
      {
        "id": "204980348583",
        "filename": "hello.png",
        "content_type": "image/png",
        "url": "https://example.com/images/hello.png",
        "blur": "eoig:woi!our@nj/d",
        "nsfw": false
      }
    ],
    "reactions": [
      {
        "emoji": "<:alias:11938437>",
        "reacted_by": "3085763644"
      },
      {
        "emoji": "ğŸ‰",
        "reacted_by": "494984128"
      }
    ],
    "author": {
      "id": "2874987398",
      "name": "@john@example.com",
      "display_name": "John Doe",
      "bio": "I am Test User.",
      "avatar": "https://example.com/images/avatar.png",
      "header": "https://example.com/images/header.png",
      "followed_count": 200,
      "following_count": 10
    }
  }
]
```

**`400 Bad Request`**

```json
{
  "error": "TEST_ERROR_CODE"
}
```

- `INVALID_QUERY`: ã‚¯ã‚¨ãƒªãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“
